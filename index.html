<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAK3wAWIZCultkSQfyse8L8Z-JNMEVK5Wk",
        authDomain: "hyouka-db.firebaseapp.com",
        projectId: "hyouka-db",
        storageBucket: "hyouka-db.appspot.com",
        messagingSenderId: "861016804589",
        appId: "1:861016804589:web:d911d516d6c79aa73690e4"
      };
      if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    </script>
    
    <script src="assets/js/core/i18n.js"></script>
    <script src="assets/js/core/auth.js"></script>
    <script src="assets/js/core/router.js"></script>
    <script src="assets/js/core/api.js"></script>

    <script src="assets/js/components/notification.js"></script>
    <script src="assets.js/components/navigation.js"></script>
    <script src="assets/js/components/polygon-chart.js"></script>
    <script src="assets/js/components/bar-chart.js"></script>
    <script src="assets/js/components/evaluation-form.js"></script>

    <script src="assets/js/utils/helpers.js"></script>

    <script src="assets/js/pages/dashboard.js"></script>
    <script src="assets/js/pages/evaluations.js"></script>
    <script src="assets/js/pages/users.js"></script>
    <script src="assets/js/pages/settings.js"></script>
    <script src="assets/js/pages/goal-setting.js"></script>
    <script src="assets/js/pages/goal-approvals.js"></script>
    <script src="assets/js/pages/register.js"></script>
    
    <script src="assets/js/pages/developer.js"></script>
    
    <script src="assets/js/core/app.js"></script>
    
    ```

#### **2. `i18n.js` ã®ä¿®æ­£**

ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.json`ï¼‰ã‚’èª­ã¿è¾¼ã‚€ãƒ‘ã‚¹ã®æŒ‡å®šã‚’ä¿®æ­£ã—ã¾ã™ã€‚ä»¥ä¸‹ãŒã€å¤‰æ›´ã‚’åæ˜ ã—ãŸ`i18n.js`ã®å…¨ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```javascript
// assets/js/core/i18n.js ã®å…¨ã‚³ãƒ¼ãƒ‰ï¼ˆãƒ‘ã‚¹ä¿®æ­£ç‰ˆï¼‰
/**
 * i18n.js - å»ºè¨­æ¥­è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ  å¤šè¨€èªå¯¾å¿œ
 * å¤–éƒ¨JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ APIç¿»è¨³ã‚’çµ„ã¿åˆã‚ã›ãŸãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
 */

class HybridTranslationSystem {
    constructor() {
        this.currentLanguage = localStorage.getItem('app_language') || 'ja';
        this.translations = {}; // å‹•çš„ã«èª­ã¿è¾¼ã‚€ãŸã‚ã€åˆæœŸçŠ¶æ…‹ã¯ç©º
        this.isLoaded = false;
        this.gasApiUrl = 'YOUR_GAS_API_URL'; // Google Apps Script APIã®URLï¼ˆå¾Œã§è¨­å®šï¼‰
        this.translationCache = new Map(JSON.parse(localStorage.getItem('translation_cache') || '[]'));
    }

    /**
     * æŒ‡å®šã•ã‚ŒãŸè¨€èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
     * @param {string} lang - è¨€èªã‚³ãƒ¼ãƒ‰ (e.g., 'ja', 'vi', 'en')
     */
    async loadLanguage(lang) {
        if (this.translations[lang]) {
            return; // æ—¢ã«èª­ã¿è¾¼ã¿æ¸ˆã¿
        }
        try {
            // â–¼â–¼â–¼ [ä¿®æ­£ç‚¹] ãƒ‘ã‚¹ã‚’ç›¸å¯¾ãƒ‘ã‚¹ã«å¤‰æ›´ â–¼â–¼â–¼
            const response = await fetch(`locales/${lang}.json`);
            if (!response.ok) throw new Error(`Failed to load ${lang}.json`);
            this.translations[lang] = await response.json();
        } catch (error) {
            console.error(error);
            this.translations[lang] = {}; // å¤±æ•—ã—ãŸå ´åˆã¯ç©ºã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®š
        }
    }

    /**
     * ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã€‚ç¾åœ¨ã®è¨€èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã€‚
     */
    async init() {
        await this.loadLanguage(this.currentLanguage);
        this.isLoaded = true;
        console.log(`ğŸŒ Translation for '${this.currentLanguage}' loaded.`);
    }

    /**
     * ã‚­ãƒ¼ã¾ãŸã¯ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¿»è¨³ã™ã‚‹
     * @param {string} key - ç¿»è¨³ã‚­ãƒ¼
     * @param {string} [fallbackText] - ã‚­ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚­ã‚¹ãƒˆ
     * @returns {Promise<string>} ç¿»è¨³ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ
     */
    async t(key, fallbackText = key) {
        if (!this.isLoaded) await this.init();

        const langDict = this.translations[this.currentLanguage] || {};
        
        if (langDict[key]) {
            return langDict[key];
        }

        if (this.currentLanguage === 'ja') {
            return fallbackText;
        }

        const textToTranslate = fallbackText;
        const cacheKey = `${textToTranslate}_${this.currentLanguage}`;
        if (this.translationCache.has(cacheKey)) {
            return this.translationCache.get(cacheKey);
        }

        try {
            const translated = await this.translateWithAPI(textToTranslate);
            this.translationCache.set(cacheKey, translated);
            this.saveCacheToStorage();
            return translated;
        } catch (error) {
            console.warn(`Translation API failed for "${textToTranslate}":`, error);
            return textToTranslate;
        }
    }

    /**
     * è¨€èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
     * @param {string} lang - æ–°ã—ã„è¨€èªã‚³ãƒ¼ãƒ‰
     */
    async setLanguage(lang) {
        if (lang === this.currentLanguage && this.isLoaded) return;

        this.currentLanguage = lang;
        localStorage.setItem('app_language', lang);
        
        await this.loadLanguage(lang);
        await this.updatePageTranslations();
        
        console.log(`ğŸŒ Language changed to: ${lang}`);
    }

    /**
     * ãƒšãƒ¼ã‚¸ä¸Šã®data-i18nå±æ€§ã‚’æŒã¤è¦ç´ ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¨ã¦æ›´æ–°ã™ã‚‹
     */
    async updatePageTranslations() {
        const elements = document.querySelectorAll('[data-i18n]');
        for (const element of elements) {
            const key = element.dataset.i18n;
            const fallback = element.textContent;
            element.textContent = await this.t(key, fallback);
        }
    }

    /**
     * Google Apps Script APIã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³
     * @param {string} text - ç¿»è¨³ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
     * @returns {Promise<string>} ç¿»è¨³çµæœ
     */
    async translateWithAPI(text) {
        if (!this.gasApiUrl || this.gasApiUrl === 'YOUR_GAS_API_URL') {
            throw new Error('GAS API URL not configured');
        }
        
        const params = new URLSearchParams({ text: text, source: 'ja', target: this.currentLanguage });
        const response = await fetch(`${this.gasApiUrl}?${params}`);
        if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
        
        const data = await response.json();
        if (data.code === 200 && data.translated) {
            return data.translated;
        } else {
            throw new Error(data.error || 'Unknown API error');
        }
    }
    
    /**
     * ç¿»è¨³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’LocalStorageã«ä¿å­˜ã™ã‚‹
     */
    saveCacheToStorage() {
        localStorage.setItem('translation_cache', JSON.stringify(Array.from(this.translationCache.entries())));
    }
}

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
const i18nManager = new HybridTranslationSystem();
window.i18n = i18nManager;

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«åˆæœŸåŒ–ã‚’å®Ÿè¡Œ
document.addEventListener('DOMContentLoaded', () => {
    i18nManager.init();
});
